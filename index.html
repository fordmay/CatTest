<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cat</title>
</head>
<body>
<h2 id="message"></h2>

<img id="cat" src="img/cat.png" style="max-width:100px;max-height:100px; position: absolute;
    left: 20px; top: 200px;">

<div style="width: 280px; height: 5px; background: black;
position: absolute; top: 300px; left: 20px;"></div>

<script>

    const result = confirm('Що будемо робити? \n ok - стрибати \n cancel - ходити');
    if (result) {
        const answer = prompt('Як високо? \nВведіть від 10 до 50');
        if (checkAnswer(+answer)) {
            action(200, +answer, true);
        }

    } else {
        const answer = prompt('Як далеко? \nВведіть від 10 до 50');
        if (checkAnswer(+answer)) {
            action(20, +answer, false);
        }
    }

    function checkAnswer(number) {
        if (!isNaN(number) && 10 <= number && number <= 50) {
            return true;
        } else if (!isNaN(number) && 10 > number) {
            alert("Це надто мало для мене!");
        } else if (!isNaN(number) && number > 50) {
            alert("Це надто багато для мене!");
        } else {
            alert("Це не число!");
        }
        return false;
    }

    function action(start, step, directionY) {
        const cat = document.getElementById("cat");
        const max = start + (step * 4);
        let i = start;
        let move = true;

        let timer = setInterval(() => {
            if (directionY) {
                cat.style.top = start - (i - start) + 'px';
            } else {
                cat.style.left = i + 'px';
            }

            if (move) {
                i++
            } else {
                i--
            }

            if (i > max && move) {
                if (directionY) {
                    cat.style.transform = 'rotate(60deg)';
                } else {
                    cat.style.transform = 'rotateY(180deg)';
                }
                move = false;
            } else if (i < start) {
                if (directionY) {
                    cat.style.transform = 'rotate(0deg)';
                } else {
                    cat.style.transform = 'rotateY(0deg)';
                }
                document.querySelector('#message').innerHTML = "Я виконав задачу " + step + " раз";
                clearInterval(timer);
            }

        }, 20)
    }

</script>
</body>
</html>